import { Meta, Title } from "@storybook/addon-docs/blocks";

<Meta title="App/Architecture" />

<Title>ğŸ—ï¸ Architecture</Title>

## Overview

The application follows a **Clean Architecture** pattern with clear separation of concerns across three main layers:

### Application Layer (`src/application/`)
- **Hooks**: Business logic and state management hooks
  - `useInitAppConfig` - Application configuration initialization
  - `useProgramManager` - Program lifecycle management
  - `useAppConfig`, `useLanguageManager`, `useThemeManager` - Service hooks
- **Portals**: Dynamic component rendering system
  - `ProgramsPortal` - Lazy-loads and renders running programs (Calculator, Notepad, Settings, etc.)

### Infrastructure Layer (`src/infrastructure/`)
- **Configs**: Application configuration files
  - `start-menu.config.ts` - Start menu structure and program definitions
- **Services**: External integrations and utilities
  - App, Browser, File Manager, Language, Program, Storage, Theme services
- **Types**: TypeScript type definitions and interfaces

### Presentation Layer (`src/presentation/`)
- **Components**: Reusable UI components wrapping micro-frontends
  - AudioButton, Calculator, Clock, Navigation, Notepad, Settings, etc.
- **Containers**: High-level component orchestrators
  - `MainContainer` - Root application container
- **Layouts**: Page layout components
  - `PulpitLayout` - Desktop background and icons
  - `NavigationLayout` - Taskbar and navigation elements
- **Views**: Complete page views
  - `HomeView` - Main desktop view combining layouts

## Integration

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    @windows98/app                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Application   â”‚  â”‚ Infrastructure  â”‚  â”‚Presentation  â”‚  â”‚
â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚              â”‚  â”‚
â”‚  â”‚ â€¢ Hooks         â”‚  â”‚ â€¢ Configs       â”‚  â”‚ â€¢ Components â”‚  â”‚
â”‚  â”‚ â€¢ Portals       â”‚  â”‚ â€¢ Services      â”‚  â”‚ â€¢ Containers â”‚  â”‚
â”‚  â”‚ â€¢ Business      â”‚  â”‚ â€¢ Types         â”‚  â”‚ â€¢ Layouts    â”‚  â”‚
â”‚  â”‚   Logic         â”‚  â”‚ â€¢ External      â”‚  â”‚ â€¢ Views      â”‚  â”‚
â”‚  â”‚                 â”‚  â”‚   Integration   â”‚  â”‚              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                    â”‚                    â”‚
           â–¼                    â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ @windows98/      â”‚  â”‚ @windows98/      â”‚  â”‚ @windows98/      â”‚
â”‚ micro-services   â”‚  â”‚ micro-frontends  â”‚  â”‚ design-system    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ App Config     â”‚  â”‚ â€¢ Calculator     â”‚  â”‚ â€¢ Components     â”‚
â”‚ â€¢ App Controller â”‚  â”‚ â€¢ Notepad        â”‚  â”‚ â€¢ Styles         â”‚
â”‚ â€¢ Browser Env    â”‚  â”‚ â€¢ Start Menu     â”‚  â”‚ â€¢ Themes         â”‚
â”‚ â€¢ Date/Time      â”‚  â”‚ â€¢ Navigation     â”‚  â”‚ â€¢ Icons          â”‚
â”‚ â€¢ Error Handler  â”‚  â”‚ â€¢ Clock          â”‚  â”‚ â€¢ Typography     â”‚
â”‚ â€¢ Event Bus      â”‚  â”‚ â€¢ Settings       â”‚  â”‚ â€¢ Layout System  â”‚
â”‚ â€¢ File Manager   â”‚  â”‚ â€¢ Games          â”‚  â”‚                  â”‚
â”‚ â€¢ Language       â”‚  â”‚ â€¢ And more...    â”‚  â”‚                  â”‚
â”‚ â€¢ Storage        â”‚  â”‚                  â”‚  â”‚                  â”‚
â”‚ â€¢ Theme          â”‚  â”‚                  â”‚  â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
