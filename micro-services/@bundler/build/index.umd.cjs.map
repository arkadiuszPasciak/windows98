{"version":3,"file":"index.umd.cjs","sources":["../../src/ms-app-controller/src/data/repositories/app-controller.repository.ts","../../src/ms-app-controller/src/domain/domains/app-controller.domain.ts","../../src/ms-browser-env/src/data/repositories/browser-name.repository.ts","../../src/ms-browser-env/src/data/repositories/device-type.repository.ts","../../src/ms-browser-env/src/data/repositories/operating-system.repository.ts","../../src/ms-browser-env/src/data/repositories/screen.repository.ts","../../src/ms-browser-env/src/domain/services/browser-env.service.ts","../../src/ms-storage/src/data/repositories/storage.repository.ts","../../src/ms-storage/src/domain/domains/storage.domain.ts","../../src/ms-theme/src/domain/models/attribute.model.ts","../../src/ms-theme/src/domain/models/storage.model.ts","../../src/ms-theme/src/domain/models/theme.model.ts","../../src/ms-theme/src/domain/domains/theme.domain.ts"],"sourcesContent":["import type { AppControllerRepositoryContract } from \"../../domain/contracts\"\n\nexport class AppControllerRepository\n\timplements AppControllerRepositoryContract\n{\n\trestartApplication(): void {\n\t\twindow.location.reload()\n\t}\n\n\tshutdownApplication(): void {\n\t\twindow.location.href = \"https://google.com\"\n\t}\n}\n","import { AppControllerRepository } from \"../../data/repositories\"\nimport type {\n\tAppControllerDomainContract,\n\tAppControllerRepositoryContract,\n} from \"../contracts\"\n\nexport class AppControllerDomain implements AppControllerDomainContract {\n\tprivate appControllerRepository: AppControllerRepositoryContract\n\n\tconstructor() {\n\t\tthis.appControllerRepository = new AppControllerRepository()\n\t}\n\n\trestartApplication(): void {\n\t\tthis.appControllerRepository.restartApplication()\n\t}\n\n\tshutdownApplication(): void {\n\t\tthis.appControllerRepository.shutdownApplication()\n\t}\n}\n","import type BrowserEnvRepositoryContract from \"../../domain/contracts/repository.contract\"\nimport type {\n\tIBrowserNameRegex,\n\tTBrowserName,\n} from \"../../domain/models/browser.model\"\n\nexport default class BrowserNameRepository\n\timplements BrowserEnvRepositoryContract<TBrowserName>\n{\n\tconstructor(\n\t\tprivate readonly browserNames: Array<IBrowserNameRegex> = [\n\t\t\t{ name: \"Chrome\", regex: /chrome|chromium|crios/i },\n\t\t\t{ name: \"Firefox\", regex: /firefox|fxios/i },\n\t\t\t{ name: \"Safari\", regex: /safari/i },\n\t\t\t{ name: \"Opera\", regex: /opr\\//i },\n\t\t\t{ name: \"Edge\", regex: /edg/i },\n\t\t],\n\t) {}\n\n\tpublic get() {\n\t\tconst userAgent = window.navigator.userAgent\n\n\t\tif (!userAgent) return null\n\n\t\tfor (const id in this.browserNames) {\n\t\t\tconst system = this.browserNames[id]\n\n\t\t\tif (system.regex.test(userAgent)) {\n\t\t\t\treturn system.name\n\t\t\t}\n\t\t}\n\n\t\treturn null\n\t}\n}\n","import type BrowserEnvRepositoryContract from \"../../domain/contracts/repository.contract\"\nimport type { IDevicesRegex, TDevices } from \"../../domain/models/device.model\"\n\nexport default class DeviceTypeRepository\n\timplements BrowserEnvRepositoryContract<TDevices>\n{\n\tconstructor(\n\t\tprivate readonly devicesNames: Array<IDevicesRegex> = [\n\t\t\t{\n\t\t\t\tname: \"mobile\",\n\t\t\t\tregex: /iphone|ipad|ipod|android|blackberry|opera mini|iemobile/i,\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"desktop\",\n\t\t\t\tregex: /Win|Windows|OpenBSD|SunOS|Linux|X11|Mac|Mac OS X/i,\n\t\t\t},\n\t\t],\n\t) {}\n\n\tpublic get() {\n\t\tconst userAgent = window.navigator.userAgent\n\n\t\tif (!userAgent) return null\n\n\t\tfor (const id in this.devicesNames) {\n\t\t\tconst system = this.devicesNames[id]\n\n\t\t\tif (system.regex.test(userAgent)) {\n\t\t\t\treturn system.name\n\t\t\t}\n\t\t}\n\n\t\treturn null\n\t}\n}\n","import type BrowserEnvRepositoryContract from \"../../domain/contracts/repository.contract\"\nimport type {\n\tIOperatingSystemRegex,\n\tTOperatingSystemAll,\n} from \"../../domain/models/operating.model\"\n\nexport default class OperatingSystemRepository\n\timplements BrowserEnvRepositoryContract<TOperatingSystemAll>\n{\n\tconstructor(\n\t\tprivate readonly operatingSystems: Array<IOperatingSystemRegex> = [\n\t\t\t{ name: \"Windows 3.11\", regex: /Win16/ },\n\t\t\t{ name: \"Windows 95\", regex: /(Windows 95|Win95|Windows_95)/ },\n\t\t\t{ name: \"Windows ME\", regex: /(Win 9x 4.90|Windows ME)/ },\n\t\t\t{ name: \"Windows 98\", regex: /(Windows 98|Win98)/ },\n\t\t\t{ name: \"Windows CE\", regex: /Windows CE/ },\n\t\t\t{ name: \"Windows 2000\", regex: /(Windows NT 5.0|Windows 2000)/ },\n\t\t\t{ name: \"Windows XP\", regex: /(Windows NT 5.1|Windows XP)/ },\n\t\t\t{ name: \"Windows Server 2003\", regex: /Windows NT 5.2/ },\n\t\t\t{ name: \"Windows Vista\", regex: /Windows NT 6.0/ },\n\t\t\t{ name: \"Windows 7\", regex: /(Windows 7|Windows NT 6.1)/ },\n\t\t\t{ name: \"Windows 8.1\", regex: /(Windows 8.1|Windows NT 6.3)/ },\n\t\t\t{ name: \"Windows 8\", regex: /(Windows 8|Windows NT 6.2)/ },\n\t\t\t{\n\t\t\t\tname: \"Windows NT 4.0\",\n\t\t\t\tregex: /(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,\n\t\t\t},\n\t\t\t{ name: \"Windows ME\", regex: /Windows ME/ },\n\t\t\t{ name: \"Android\", regex: /Android/ },\n\t\t\t{ name: \"Open BSD\", regex: /OpenBSD/ },\n\t\t\t{ name: \"Sun OS\", regex: /SunOS/ },\n\t\t\t{ name: \"Linux\", regex: /(Linux|X11)/ },\n\t\t\t{ name: \"iOS\", regex: /(iPhone|iPad|iPod)/ },\n\t\t\t{ name: \"Mac OS X\", regex: /Mac OS X/ },\n\t\t\t{ name: \"Mac OS\", regex: /(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/ },\n\t\t\t{ name: \"QNX\", regex: /QNX/ },\n\t\t\t{ name: \"UNIX\", regex: /UNIX/ },\n\t\t\t{ name: \"BeOS\", regex: /BeOS/ },\n\t\t\t{ name: \"OS/2\", regex: /OS\\/2/ },\n\t\t],\n\t) {}\n\n\tpublic get() {\n\t\tconst userAgent = window.navigator.userAgent\n\n\t\tif (!userAgent) return null\n\n\t\tfor (const id in this.operatingSystems) {\n\t\t\tconst system = this.operatingSystems[id]\n\n\t\t\tif (system.regex.test(userAgent)) {\n\t\t\t\treturn system.name\n\t\t\t}\n\t\t}\n\n\t\treturn null\n\t}\n}\n","import type BrowserEnvRepositoryContract from \"../../domain/contracts/repository.contract\"\nimport type { IScreenInformation } from \"../../domain/models/screen.model\"\n\nexport default class ScreenRepository\n\timplements BrowserEnvRepositoryContract<IScreenInformation>\n{\n\tpublic get() {\n\t\tconst windowScreen = window.screen\n\n\t\tif (!windowScreen) return null\n\n\t\treturn {\n\t\t\tcolorDepth: windowScreen.colorDepth,\n\t\t\theight: windowScreen.height,\n\t\t\twidth: windowScreen.width,\n\t\t}\n\t}\n}\n","import BrowserNameRepository from \"../../data/repositories/browser-name.repository\"\nimport DeviceTypeRepository from \"../../data/repositories/device-type.repository\"\nimport OperatingSystemRepository from \"../../data/repositories/operating-system.repository\"\nimport ScreenRepository from \"../../data/repositories/screen.repository\"\nimport type BrowserEnvServiceContract from \"../contracts/service.contract\"\n\nexport default class BrowserEnvService implements BrowserEnvServiceContract {\n\tconstructor(\n\t\tprivate readonly browserNameRepository = new BrowserNameRepository(),\n\t\tprivate readonly deviceTypeRepository = new DeviceTypeRepository(),\n\t\tprivate readonly operatingSystemRepository = new OperatingSystemRepository(),\n\t\tprivate readonly screenRepository = new ScreenRepository(),\n\t) {}\n\n\tpublic getBrowserName() {\n\t\treturn this.browserNameRepository.get()\n\t}\n\n\tpublic getDeviceType() {\n\t\treturn this.deviceTypeRepository.get()\n\t}\n\n\tpublic getOperatingSystem() {\n\t\treturn this.operatingSystemRepository.get()\n\t}\n\n\tpublic getScreenInformation() {\n\t\treturn this.screenRepository.get()\n\t}\n}\n","import type { StorageRepositoryContract } from \"../../domain/contracts\"\n\nexport class StorageRepository<Key extends string, Value extends string>\n\timplements StorageRepositoryContract<Key, Value>\n{\n\tpublic addItem(key: Key, value: Value): void {\n\t\twindow.localStorage.setItem(key, value)\n\t}\n\n\tpublic getItem(key: Key): string | null {\n\t\treturn window.localStorage.getItem(key)\n\t}\n\n\tpublic isItemExist(key: Key): boolean {\n\t\tconst item = this.getItem(key)\n\n\t\treturn !!item?.length\n\t}\n\n\tpublic removeItem(key: Key): void {\n\t\twindow.localStorage.removeItem(key)\n\t}\n\n\tpublic clearAll(): void {\n\t\twindow.localStorage.clear()\n\t}\n}\n","import type { Maybe } from \"@windows98/toolkit\"\nimport { StorageRepository } from \"../../data/repositories\"\nimport type { StorageDomainContract } from \"../contracts\"\n\nexport class StorageDomain<Key extends string, Value extends string>\n\timplements StorageDomainContract<Key, Value>\n{\n\tprivate readonly storageRepository: StorageRepository<Key, Value>\n\n\tconstructor() {\n\t\tthis.storageRepository = new StorageRepository()\n\t}\n\n\tpublic addItem(key: Key, value: Value): void {\n\t\tthis.storageRepository.addItem(key, value)\n\t}\n\n\tpublic getItem(key: Key): Maybe<Value> {\n\t\treturn this.storageRepository.getItem(key) as Value\n\t}\n\n\tpublic isItemExist(key: Key): boolean {\n\t\treturn this.storageRepository.isItemExist(key)\n\t}\n\n\tpublic updateItem(key: Key, value: Value): void {\n\t\tthis.storageRepository.addItem(key, value)\n\t}\n\n\tpublic removeItem(key: Key): void {\n\t\tthis.storageRepository.removeItem(key)\n\t}\n}\n","export enum EAttributes {\n\tTHEME = \"theme\",\n}\n","export enum EStorageKeys {\n\tTHEME = \"theme\",\n}\n","export enum EThemes {\n\tDARK = \"dark\",\n\tLIGHT = \"light\",\n}\n","import { MSStorage } from \"../../../../index\"\nimport type { ThemeDomainContract } from \"../contracts\"\nimport { EAttributes, EStorageKeys, EThemes } from \"../models\"\n\nexport class ThemeDomain implements ThemeDomainContract {\n\tprivate storage = new MSStorage<EStorageKeys, EThemes>()\n\tprivate defaultTheme: EThemes = EThemes.LIGHT\n\n\tpublic getThemeColor(): EThemes {\n\t\tconst theme = this.storage.getItem(EStorageKeys.THEME)\n\n\t\treturn theme ?? this.defaultTheme\n\t}\n\n\tpublic setThemeColor(theme: EThemes): void {\n\t\tthis.storage.updateItem(EStorageKeys.THEME, theme)\n\t}\n\n\tpublic updateTheme(theme: EThemes): void {\n\t\tconst element = window.document.querySelector(\"html\")\n\t\tif (!element) return\n\n\t\tconst currentTheme = element.getAttribute(EAttributes.THEME)\n\t\tif (currentTheme === theme) return\n\n\t\telement.setAttribute(EAttributes.THEME, theme)\n\t}\n\n\tpublic mountThemeColor(): void {\n\t\tconst isExist = this.storage.isItemExist(EStorageKeys.THEME)\n\n\t\tif (!isExist) {\n\t\t\tthis.initDefaultTheme()\n\n\t\t\treturn\n\t\t}\n\n\t\tconst theme = this.storage.getItem(EStorageKeys.THEME)\n\t\tif (!theme) return\n\n\t\tthis.updateTheme(theme)\n\t}\n\n\tprivate initDefaultTheme(): void {\n\t\tthis.updateTheme(this.defaultTheme)\n\t\tthis.setThemeColor(this.defaultTheme)\n\t}\n}\n"],"names":["AppControllerRepository","AppControllerDomain","__publicField","BrowserNameRepository","browserNames","userAgent","id","system","DeviceTypeRepository","devicesNames","OperatingSystemRepository","operatingSystems","ScreenRepository","windowScreen","BrowserEnvService","browserNameRepository","deviceTypeRepository","operatingSystemRepository","screenRepository","StorageRepository","key","value","item","StorageDomain","EAttributes","EStorageKeys","EThemes","ThemeDomain","MSStorage","theme","element"],"mappings":"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"}