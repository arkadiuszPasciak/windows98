(function(a,c){typeof exports=="object"&&typeof module<"u"?c(exports):typeof define=="function"&&define.amd?define(["exports"],c):(a=typeof globalThis<"u"?globalThis:a||self,c(a["micro-services"]={}))})(this,function(a){"use strict";var re=Object.defineProperty;var te=(a,c,p)=>c in a?re(a,c,{enumerable:!0,configurable:!0,writable:!0,value:p}):a[c]=p;var l=(a,c,p)=>(te(a,typeof c!="symbol"?c+"":c,p),p);const g=class g{constructor(e){l(this,"config");this.config=e}static getInstance(e){for(;g.lock;);return g.lock=!0,g.instance||(g.instance=new g(e)),g.lock=!1,g.instance}set(e,r){this.config[e]!==r&&(this.config[e]=r)}get(e){return this.config[e]}};l(g,"instance"),l(g,"lock",!1);let c=g;class p{constructor(){l(this,"UNKNOWN_ERROR_MESSAGE","Unknown error message")}CatchError(e,r){const n=this;return(t,s,i)=>{const Z=i.value;i.value=function(...k){try{return Z.apply(this,k)}catch(ee){throw n.createError(e,r,ee)}}}}createError(e,r,n){const t=this.generateErrorMessage(n),s=new Error(t);return s.name=`[${e}]<${r}>`,s}generateErrorMessage(e){return e instanceof Error&&e.message.length?e.message:this.UNKNOWN_ERROR_MESSAGE}}const u=new p,m={CatchError:u.CatchError.bind(u)};var v=Object.defineProperty,E=Object.getOwnPropertyDescriptor,O=(o,e,r,n)=>{for(var t=n>1?void 0:n?E(e,r):e,s=o.length-1,i;s>=0;s--)(i=o[s])&&(t=(n?i(e,r,t):i(t))||t);return n&&t&&v(e,r,t),t};class w{constructor(e){l(this,"config");this.config=e}add(e,r){return this.config[e]=r,this}build(){return this.validateConfig(),this.config}validateConfig(){if(this.config===void 0)throw new Error("missing config");for(const[e,r]of Object.entries(this.config))if(r===void 0)throw new Error(`missing ${e}`)}}O([m.CatchError("AppConfigBuilderDomain","validateConfig")],w.prototype,"validateConfig",1);class W{restartApplication(){window.location.reload()}shutdownApplication(){window.location.href="https://google.com"}}class x{constructor(){l(this,"appControllerRepository");this.appControllerRepository=new W}restartApplication(){this.appControllerRepository.restartApplication()}shutdownApplication(){this.appControllerRepository.shutdownApplication()}}class M{constructor(e=[{name:"Chrome",regex:/chrome|chromium|crios/i},{name:"Firefox",regex:/firefox|fxios/i},{name:"Safari",regex:/safari/i},{name:"Opera",regex:/opr\//i},{name:"Edge",regex:/edg/i}]){this.browserNames=e}get(){const e=window.navigator.userAgent;if(!e)return null;for(const r in this.browserNames){const n=this.browserNames[r];if(n.regex.test(e))return n.name}return null}}class T{constructor(e=[{name:"mobile",regex:/iphone|ipad|ipod|android|blackberry|opera mini|iemobile/i},{name:"desktop",regex:/Win|Windows|OpenBSD|SunOS|Linux|X11|Mac|Mac OS X/i}]){this.devicesNames=e}get(){const e=window.navigator.userAgent;if(!e)return null;for(const r in this.devicesNames){const n=this.devicesNames[r];if(n.regex.test(e))return n.name}return null}}class N{constructor(e=[{name:"Windows 3.11",regex:/Win16/},{name:"Windows 95",regex:/(Windows 95|Win95|Windows_95)/},{name:"Windows ME",regex:/(Win 9x 4.90|Windows ME)/},{name:"Windows 98",regex:/(Windows 98|Win98)/},{name:"Windows CE",regex:/Windows CE/},{name:"Windows 2000",regex:/(Windows NT 5.0|Windows 2000)/},{name:"Windows XP",regex:/(Windows NT 5.1|Windows XP)/},{name:"Windows Server 2003",regex:/Windows NT 5.2/},{name:"Windows Vista",regex:/Windows NT 6.0/},{name:"Windows 7",regex:/(Windows 7|Windows NT 6.1)/},{name:"Windows 8.1",regex:/(Windows 8.1|Windows NT 6.3)/},{name:"Windows 8",regex:/(Windows 8|Windows NT 6.2)/},{name:"Windows NT 4.0",regex:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{name:"Windows ME",regex:/Windows ME/},{name:"Android",regex:/Android/},{name:"Open BSD",regex:/OpenBSD/},{name:"Sun OS",regex:/SunOS/},{name:"Linux",regex:/(Linux|X11)/},{name:"iOS",regex:/(iPhone|iPad|iPod)/},{name:"Mac OS X",regex:/Mac OS X/},{name:"Mac OS",regex:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{name:"QNX",regex:/QNX/},{name:"UNIX",regex:/UNIX/},{name:"BeOS",regex:/BeOS/},{name:"OS/2",regex:/OS\/2/}]){this.operatingSystems=e}get(){const e=window.navigator.userAgent;if(!e)return null;for(const r in this.operatingSystems){const n=this.operatingSystems[r];if(n.regex.test(e))return n.name}return null}}class C{get(){const e=window.screen;return e?{colorDepth:e.colorDepth,height:e.height,width:e.width}:null}}class b{constructor(e=new M,r=new T,n=new N,t=new C){this.browserNameRepository=e,this.deviceTypeRepository=r,this.operatingSystemRepository=n,this.screenRepository=t}getBrowserName(){return this.browserNameRepository.get()}getDeviceType(){return this.deviceTypeRepository.get()}getOperatingSystem(){return this.operatingSystemRepository.get()}getScreenInformation(){return this.screenRepository.get()}}var h=(o=>(o.LANGUAGE="lang",o))(h||{}),A=Object.defineProperty,P=Object.getOwnPropertyDescriptor,R=(o,e,r,n)=>{for(var t=n>1?void 0:n?P(e,r):e,s=o.length-1,i;s>=0;s--)(i=o[s])&&(t=(n?i(e,r,t):i(t))||t);return n&&t&&A(e,r,t),t};class d{applyLanguage(e){const r=window.document.querySelector("html");if(r)r.setAttribute(h.LANGUAGE,e);else throw new Error("Element HTML not found")}}R([m.CatchError("AttributeLanguageStrategy","applyLanguage")],d.prototype,"applyLanguage",1);var _=Object.defineProperty,L=Object.getOwnPropertyDescriptor,D=(o,e,r,n)=>{for(var t=n>1?void 0:n?L(e,r):e,s=o.length-1,i;s>=0;s--)(i=o[s])&&(t=(n?i(e,r,t):i(t))||t);return n&&t&&_(e,r,t),t};class I{applyLanguage(e){const r=window.document.querySelector("html"),n=`language-${e}`;if(r)r.className=n;else throw new Error("Element HTML not found")}}D([m.CatchError("ClassLanguageStrategy","applyLanguage")],I.prototype,"applyLanguage",1);class ${constructor(e){l(this,"languageStrategy");this.languageStrategy=e}updateLanguage(e){this.languageStrategy.applyLanguage(e)}}class j extends ${constructor(){super(new d)}}class B{getItem(e){return window.localStorage.getItem(e)}setItem(e,r){window.localStorage.setItem(e,r)}removeItem(e){window.localStorage.removeItem(e)}clear(){window.localStorage.clear()}}class X{getItem(e){return window.sessionStorage.getItem(e)}setItem(e,r){window.sessionStorage.setItem(e,r)}removeItem(e){window.sessionStorage.removeItem(e)}clear(){window.sessionStorage.clear()}}class f{constructor(e){l(this,"storageRepository");this.storageRepository=e}set(e,r){this.storageRepository.setItem(e,r)}get(e){return this.storageRepository.getItem(e)}exists(e){const r=this.get(e);return!!(r!=null&&r.toString().length)}remove(e){this.storageRepository.removeItem(e)}}class H extends f{constructor(){super(new B)}}class U extends f{constructor(){super(new X)}}var S=(o=>(o.THEME="theme",o))(S||{}),G=Object.defineProperty,q=Object.getOwnPropertyDescriptor,K=(o,e,r,n)=>{for(var t=n>1?void 0:n?q(e,r):e,s=o.length-1,i;s>=0;s--)(i=o[s])&&(t=(n?i(e,r,t):i(t))||t);return n&&t&&G(e,r,t),t};class y{applyTheme(e){const r=window.document.querySelector("html");if(r)r.setAttribute(S.THEME,e);else throw new Error("Element HTML not found")}}K([m.CatchError("AttributeThemeStrategy","applyTheme")],y.prototype,"applyTheme",1);var Q=Object.defineProperty,F=Object.getOwnPropertyDescriptor,V=(o,e,r,n)=>{for(var t=n>1?void 0:n?F(e,r):e,s=o.length-1,i;s>=0;s--)(i=o[s])&&(t=(n?i(e,r,t):i(t))||t);return n&&t&&Q(e,r,t),t};class z{applyTheme(e){const r=window.document.querySelector("html"),n=`theme-${e}`;if(r)r.className=n;else throw new Error("Element HTML not found")}}V([m.CatchError("ClassThemeStrategy","applyTheme")],z.prototype,"applyTheme",1);class J{constructor(e){l(this,"themeStrategy");this.themeStrategy=e}updateTheme(e){this.themeStrategy.applyTheme(e)}}class Y extends J{constructor(){super(new y)}}a.MSAppConfig=c,a.MSAppConfigBuilder=w,a.MSAppController=x,a.MSBrowserEnv=b,a.MSErrorHandler=m,a.MSLanguage=j,a.MSLocalStorage=H,a.MSSessionStorage=U,a.MSTheme=Y,Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=index.umd.cjs.map
