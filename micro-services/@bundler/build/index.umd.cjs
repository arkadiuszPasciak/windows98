(function(a,c){typeof exports=="object"&&typeof module<"u"?c(exports):typeof define=="function"&&define.amd?define(["exports"],c):(a=typeof globalThis<"u"?globalThis:a||self,c(a["micro-services"]={}))})(this,function(a){"use strict";var de=Object.defineProperty;var pe=(a,c,d)=>c in a?de(a,c,{enumerable:!0,configurable:!0,writable:!0,value:d}):a[c]=d;var l=(a,c,d)=>pe(a,typeof c!="symbol"?c+"":c,d);const g=class g{constructor(e){l(this,"config");this.config=e}static getInstance(e){for(;g.lock;);return g.lock=!0,g.instance||(g.instance=new g(e)),g.lock=!1,g.instance}set(e,t){this.config[e]!==t&&(this.config[e]=t)}get(e){return this.config[e]}};l(g,"instance"),l(g,"lock",!1);let c=g;class d{constructor(){l(this,"UNKNOWN_ERROR_MESSAGE","Unknown error message")}CatchError(e,t){const o=this;return(n,s,i)=>{const ge=i.value;i.value=function(...le){try{return ge.apply(this,le)}catch(ue){throw o.createError(e,t,ue)}}}}createError(e,t,o){const n=this.generateErrorMessage(o),s=new Error(n);return s.name=`[${e}]<${t}>`,s}generateErrorMessage(e){return e instanceof Error&&e.message.length?e.message:this.UNKNOWN_ERROR_MESSAGE}}const h=new d,u={CatchError:h.CatchError.bind(h)};var v=Object.defineProperty,M=Object.getOwnPropertyDescriptor,E=(r,e,t,o)=>{for(var n=M(e,t),s=r.length-1,i;s>=0;s--)(i=r[s])&&(n=i(e,t,n)||n);return n&&v(e,t,n),n};class m{constructor(e){l(this,"config");this.config=e}add(e,t){return this.config[e]=t,this}build(){return this.validateConfig(),this.config}validateConfig(){if(this.config===void 0)throw new Error("missing config");for(const[e,t]of Object.entries(this.config))if(t===void 0)throw new Error(`missing ${e}`)}}E([u.CatchError("AppConfigBuilderDomain","validateConfig")],m.prototype,"validateConfig");class O{restartApplication(){window.location.reload()}shutdownApplication(){window.location.href="https://google.com"}}class W{constructor(){l(this,"appControllerRepository");this.appControllerRepository=new O}restartApplication(){this.appControllerRepository.restartApplication()}shutdownApplication(){this.appControllerRepository.shutdownApplication()}}class R{constructor(e=[{name:"Chrome",regex:/chrome|chromium|crios/i},{name:"Firefox",regex:/firefox|fxios/i},{name:"Safari",regex:/safari/i},{name:"Opera",regex:/opr\//i},{name:"Edge",regex:/edg/i}]){this.browserNames=e}get(){const e=window.navigator.userAgent;if(!e)return null;for(const t in this.browserNames){const o=this.browserNames[t];if(o.regex.test(e))return o.name}return null}}class T{constructor(e=[{name:"mobile",regex:/iphone|ipad|ipod|android|blackberry|opera mini|iemobile/i},{name:"desktop",regex:/Win|Windows|OpenBSD|SunOS|Linux|X11|Mac|Mac OS X/i}]){this.devicesNames=e}get(){const e=window.navigator.userAgent;if(!e)return null;for(const t in this.devicesNames){const o=this.devicesNames[t];if(o.regex.test(e))return o.name}return null}}class N{constructor(e=[{name:"Windows 3.11",regex:/Win16/},{name:"Windows 95",regex:/(Windows 95|Win95|Windows_95)/},{name:"Windows ME",regex:/(Win 9x 4.90|Windows ME)/},{name:"Windows 98",regex:/(Windows 98|Win98)/},{name:"Windows CE",regex:/Windows CE/},{name:"Windows 2000",regex:/(Windows NT 5.0|Windows 2000)/},{name:"Windows XP",regex:/(Windows NT 5.1|Windows XP)/},{name:"Windows Server 2003",regex:/Windows NT 5.2/},{name:"Windows Vista",regex:/Windows NT 6.0/},{name:"Windows 7",regex:/(Windows 7|Windows NT 6.1)/},{name:"Windows 8.1",regex:/(Windows 8.1|Windows NT 6.3)/},{name:"Windows 8",regex:/(Windows 8|Windows NT 6.2)/},{name:"Windows NT 4.0",regex:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{name:"Windows ME",regex:/Windows ME/},{name:"Android",regex:/Android/},{name:"Open BSD",regex:/OpenBSD/},{name:"Sun OS",regex:/SunOS/},{name:"Linux",regex:/(Linux|X11)/},{name:"iOS",regex:/(iPhone|iPad|iPod)/},{name:"Mac OS X",regex:/Mac OS X/},{name:"Mac OS",regex:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{name:"QNX",regex:/QNX/},{name:"UNIX",regex:/UNIX/},{name:"BeOS",regex:/BeOS/},{name:"OS/2",regex:/OS\/2/}]){this.operatingSystems=e}get(){const e=window.navigator.userAgent;if(!e)return null;for(const t in this.operatingSystems){const o=this.operatingSystems[t];if(o.regex.test(e))return o.name}return null}}class x{get(){const e=window.screen;return e?{colorDepth:e.colorDepth,height:e.height,width:e.width}:null}}class C{constructor(e=new R,t=new T,o=new N,n=new x){this.browserNameRepository=e,this.deviceTypeRepository=t,this.operatingSystemRepository=o,this.screenRepository=n}getBrowserName(){return this.browserNameRepository.get()}getDeviceType(){return this.deviceTypeRepository.get()}getOperatingSystem(){return this.operatingSystemRepository.get()}getScreenInformation(){return this.screenRepository.get()}}var L=Object.defineProperty,_=Object.getOwnPropertyDescriptor,b=(r,e,t,o)=>{for(var n=_(e,t),s=r.length-1,i;s>=0;s--)(i=r[s])&&(n=i(e,t,n)||n);return n&&L(e,t,n),n};class p{createDate(e){if(e&&!this.isValidDate(e))throw new Error(`Invalid date string: ${e}`);return e?new Date(e):new Date}isValidDate(e){return!Number.isNaN(Date.parse(e))}}b([u.CatchError("DateStrategy","createDate")],p.prototype,"createDate");class P{constructor(e=new p){this.dateStrategy=e}get(e,t){const o=this.getActiveDay(e,t),n=this.getDaysInMonth(e,t),s=this.getFirstDayOfWeek(e,t);return{activeDay:o,daysInMonth:n,firstDayOfWeek:s}}getActiveDay(e,t){const o=this.dateStrategy.createDate(),n=o.getFullYear(),s=o.getMonth();return n===t&&s===e?o.getDate():null}getDaysInMonth(e,t){const o=this.dateStrategy.createDate();return o.setFullYear(t,e+1,0),o.getDate()}getFirstDayOfWeek(e,t){const o=this.dateStrategy.createDate();return o.setFullYear(t,e,1),o.getDay()}}class A{constructor(e=new p){this.dateStrategy=e}getDate(e){return this.dateStrategy.createDate(e).getDate()}getDay(e){return this.dateStrategy.createDate(e).getDay()}toLocaleString(e,t,o){return this.dateStrategy.createDate(e).toLocaleString(t,o)}toLocaleDateString(e,t,o){return this.dateStrategy.createDate(e).toLocaleDateString(t,o)}}class I{constructor(e=new p){this.dateStrategy=e}getHours(e){return this.dateStrategy.createDate(e).getHours()}getMilliseconds(e){return this.dateStrategy.createDate(e).getMilliseconds()}getMinutes(e){return this.dateStrategy.createDate(e).getMinutes()}getSeconds(e){return this.dateStrategy.createDate(e).getSeconds()}toLocaleTimeString(e,t,o){return this.dateStrategy.createDate(e).toLocaleTimeString(t,o)}}class ${constructor(e=new p){this.dateStrategy=e}get(e){return this.dateStrategy.createDate(e).getMonth()}}class j{constructor(e=new p){this.dateStrategy=e}get(e){return this.dateStrategy.createDate(e).getFullYear()}}class B{constructor(e=new P,t=new A,o=new $,n=new I,s=new j){this.calendarRepository=e,this.dateRepository=t,this.monthRepository=o,this.timeRepository=n,this.yearRepository=s}getCalendar(e,t){return this.calendarRepository.get(e,t)}getDate(e,t,o){return this.dateRepository.toLocaleDateString(e,t,o)}getDateWithTime(e,t,o){return this.dateRepository.toLocaleString(e,t,o)}getMonth(e){return this.monthRepository.get(e)}getTime(e,t,o){return this.timeRepository.toLocaleTimeString(e,t,o)}getYear(e){return this.yearRepository.get(e)}}const H=new B;var w=(r=>(r.LANGUAGE="lang",r))(w||{}),X=Object.defineProperty,F=Object.getOwnPropertyDescriptor,U=(r,e,t,o)=>{for(var n=F(e,t),s=r.length-1,i;s>=0;s--)(i=r[s])&&(n=i(e,t,n)||n);return n&&X(e,t,n),n};class y{applyLanguage(e){const t=window.document.querySelector("html");if(t)t.setAttribute(w.LANGUAGE,e);else throw new Error("Element HTML not found")}}U([u.CatchError("AttributeLanguageStrategy","applyLanguage")],y.prototype,"applyLanguage");var Y=Object.defineProperty,G=Object.getOwnPropertyDescriptor,k=(r,e,t,o)=>{for(var n=G(e,t),s=r.length-1,i;s>=0;s--)(i=r[s])&&(n=i(e,t,n)||n);return n&&Y(e,t,n),n};class q{applyLanguage(e){const t=window.document.querySelector("html"),o=`language-${e}`;if(t)t.className=o;else throw new Error("Element HTML not found")}}k([u.CatchError("ClassLanguageStrategy","applyLanguage")],q.prototype,"applyLanguage");class K{constructor(e){l(this,"languageStrategy");this.languageStrategy=e}updateLanguage(e){this.languageStrategy.applyLanguage(e)}}class V extends K{constructor(){super(new y)}}class Q{getItem(e){return window.localStorage.getItem(e)}setItem(e,t){window.localStorage.setItem(e,t)}removeItem(e){window.localStorage.removeItem(e)}clear(){window.localStorage.clear()}}class z{getItem(e){return window.sessionStorage.getItem(e)}setItem(e,t){window.sessionStorage.setItem(e,t)}removeItem(e){window.sessionStorage.removeItem(e)}clear(){window.sessionStorage.clear()}}class S{constructor(e){l(this,"storageRepository");this.storageRepository=e}set(e,t){this.storageRepository.setItem(e,t)}get(e){return this.storageRepository.getItem(e)}exists(e){const t=this.get(e);return!!(t!=null&&t.toString().length)}remove(e){this.storageRepository.removeItem(e)}}class J extends S{constructor(){super(new Q)}}class Z extends S{constructor(){super(new z)}}var f=(r=>(r.THEME="theme",r))(f||{}),ee=Object.defineProperty,te=Object.getOwnPropertyDescriptor,re=(r,e,t,o)=>{for(var n=te(e,t),s=r.length-1,i;s>=0;s--)(i=r[s])&&(n=i(e,t,n)||n);return n&&ee(e,t,n),n};class D{applyTheme(e){const t=window.document.querySelector("html");if(t)t.setAttribute(f.THEME,e);else throw new Error("Element HTML not found")}}re([u.CatchError("AttributeThemeStrategy","applyTheme")],D.prototype,"applyTheme");var ne=Object.defineProperty,oe=Object.getOwnPropertyDescriptor,se=(r,e,t,o)=>{for(var n=oe(e,t),s=r.length-1,i;s>=0;s--)(i=r[s])&&(n=i(e,t,n)||n);return n&&ne(e,t,n),n};class ae{applyTheme(e){const t=window.document.querySelector("html"),o=`theme-${e}`;if(t)t.className=o;else throw new Error("Element HTML not found")}}se([u.CatchError("ClassThemeStrategy","applyTheme")],ae.prototype,"applyTheme");class ie{constructor(e){l(this,"themeStrategy");this.themeStrategy=e}updateTheme(e){this.themeStrategy.applyTheme(e)}}class ce extends ie{constructor(){super(new D)}}a.MSAppConfig=c,a.MSAppConfigBuilder=m,a.MSAppController=W,a.MSBrowserEnv=C,a.MSDate=H,a.MSErrorHandler=u,a.MSLanguage=V,a.MSLocalStorage=J,a.MSSessionStorage=Z,a.MSTheme=ce,Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=index.umd.cjs.map
