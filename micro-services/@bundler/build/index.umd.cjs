(function(s,i){typeof exports=="object"&&typeof module<"u"?i(exports):typeof define=="function"&&define.amd?define(["exports"],i):(s=typeof globalThis<"u"?globalThis:s||self,i(s["micro-services"]={}))})(this,function(s){"use strict";var H=Object.defineProperty;var L=(s,i,m)=>i in s?H(s,i,{enumerable:!0,configurable:!0,writable:!0,value:m}):s[i]=m;var g=(s,i,m)=>(L(s,typeof i!="symbol"?i+"":i,m),m);const l=class l{constructor(e){g(this,"config");this.config=e}static getInstance(e){for(;l.lock;);return l.lock=!0,l.instance||(l.instance=new l(e)),l.lock=!1,l.instance}set(e,r){this.config[e]!==r&&(this.config[e]=r)}get(e){return this.config[e]}};g(l,"instance"),g(l,"lock",!1);let i=l;class m{constructor(){g(this,"UNKNOWN_ERROR_MESSAGE","Unknown error message")}CatchError(e,r){const t=this;return(o,a,c)=>{const X=c.value;c.value=function(...$){try{return X.apply(this,$)}catch(j){throw t.createError(e,r,j)}}}}createError(e,r,t){const o=this.generateErrorMessage(t),a=new Error(o);return a.name=`[${e}]<${r}>`,a}generateErrorMessage(e){return e instanceof Error&&e.message.length?e.message:this.UNKNOWN_ERROR_MESSAGE}}const d=new m,p={CatchError:d.CatchError.bind(d)};var f=Object.defineProperty,y=Object.getOwnPropertyDescriptor,S=(n,e,r,t)=>{for(var o=t>1?void 0:t?y(e,r):e,a=n.length-1,c;a>=0;a--)(c=n[a])&&(o=(t?c(e,r,o):c(o))||o);return t&&o&&f(e,r,o),o};class h{constructor(e){g(this,"config");this.config=e}add(e,r){return this.config[e]=r,this}build(){return this.validateConfig(),this.config}validateConfig(){if(this.config===void 0)throw new Error("missing config");for(const[e,r]of Object.entries(this.config))if(r===void 0)throw new Error(`missing ${e}`)}}S([p.CatchError("AppConfigBuilderDomain","validateConfig")],h.prototype,"validateConfig",1);class v{restartApplication(){window.location.reload()}shutdownApplication(){window.location.href="https://google.com"}}class E{constructor(){g(this,"appControllerRepository");this.appControllerRepository=new v}restartApplication(){this.appControllerRepository.restartApplication()}shutdownApplication(){this.appControllerRepository.shutdownApplication()}}class W{constructor(e=[{name:"Chrome",regex:/chrome|chromium|crios/i},{name:"Firefox",regex:/firefox|fxios/i},{name:"Safari",regex:/safari/i},{name:"Opera",regex:/opr\//i},{name:"Edge",regex:/edg/i}]){this.browserNames=e}get(){const e=window.navigator.userAgent;if(!e)return null;for(const r in this.browserNames){const t=this.browserNames[r];if(t.regex.test(e))return t.name}return null}}class x{constructor(e=[{name:"mobile",regex:/iphone|ipad|ipod|android|blackberry|opera mini|iemobile/i},{name:"desktop",regex:/Win|Windows|OpenBSD|SunOS|Linux|X11|Mac|Mac OS X/i}]){this.devicesNames=e}get(){const e=window.navigator.userAgent;if(!e)return null;for(const r in this.devicesNames){const t=this.devicesNames[r];if(t.regex.test(e))return t.name}return null}}class T{constructor(e=[{name:"Windows 3.11",regex:/Win16/},{name:"Windows 95",regex:/(Windows 95|Win95|Windows_95)/},{name:"Windows ME",regex:/(Win 9x 4.90|Windows ME)/},{name:"Windows 98",regex:/(Windows 98|Win98)/},{name:"Windows CE",regex:/Windows CE/},{name:"Windows 2000",regex:/(Windows NT 5.0|Windows 2000)/},{name:"Windows XP",regex:/(Windows NT 5.1|Windows XP)/},{name:"Windows Server 2003",regex:/Windows NT 5.2/},{name:"Windows Vista",regex:/Windows NT 6.0/},{name:"Windows 7",regex:/(Windows 7|Windows NT 6.1)/},{name:"Windows 8.1",regex:/(Windows 8.1|Windows NT 6.3)/},{name:"Windows 8",regex:/(Windows 8|Windows NT 6.2)/},{name:"Windows NT 4.0",regex:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{name:"Windows ME",regex:/Windows ME/},{name:"Android",regex:/Android/},{name:"Open BSD",regex:/OpenBSD/},{name:"Sun OS",regex:/SunOS/},{name:"Linux",regex:/(Linux|X11)/},{name:"iOS",regex:/(iPhone|iPad|iPod)/},{name:"Mac OS X",regex:/Mac OS X/},{name:"Mac OS",regex:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{name:"QNX",regex:/QNX/},{name:"UNIX",regex:/UNIX/},{name:"BeOS",regex:/BeOS/},{name:"OS/2",regex:/OS\/2/}]){this.operatingSystems=e}get(){const e=window.navigator.userAgent;if(!e)return null;for(const r in this.operatingSystems){const t=this.operatingSystems[r];if(t.regex.test(e))return t.name}return null}}class O{get(){const e=window.screen;return e?{colorDepth:e.colorDepth,height:e.height,width:e.width}:null}}class N{constructor(e=new W,r=new x,t=new T,o=new O){this.browserNameRepository=e,this.deviceTypeRepository=r,this.operatingSystemRepository=t,this.screenRepository=o}getBrowserName(){return this.browserNameRepository.get()}getDeviceType(){return this.deviceTypeRepository.get()}getOperatingSystem(){return this.operatingSystemRepository.get()}getScreenInformation(){return this.screenRepository.get()}}class M{addItem(e,r){window.localStorage.setItem(e,r)}getItem(e){return window.localStorage.getItem(e)}isItemExist(e){const r=this.getItem(e);return!!(r!=null&&r.length)}removeItem(e){window.localStorage.removeItem(e)}clearAll(){window.localStorage.clear()}}class R{constructor(){g(this,"storageRepository");this.storageRepository=new M}addItem(e,r){this.storageRepository.addItem(e,r)}getItem(e){return this.storageRepository.getItem(e)}isItemExist(e){return this.storageRepository.isItemExist(e)}updateItem(e,r){this.storageRepository.addItem(e,r)}removeItem(e){this.storageRepository.removeItem(e)}}var w=(n=>(n.THEME="theme",n))(w||{}),C=Object.defineProperty,b=Object.getOwnPropertyDescriptor,A=(n,e,r,t)=>{for(var o=t>1?void 0:t?b(e,r):e,a=n.length-1,c;a>=0;a--)(c=n[a])&&(o=(t?c(e,r,o):c(o))||o);return t&&o&&C(e,r,o),o};class u{applyTheme(e){const r=window.document.querySelector("html");if(r)r.setAttribute(w.THEME,e);else throw new Error("Element HTML not found")}}A([p.CatchError("AttributeThemeStrategy","applyTheme")],u.prototype,"applyTheme",1);var I=Object.defineProperty,P=Object.getOwnPropertyDescriptor,_=(n,e,r,t)=>{for(var o=t>1?void 0:t?P(e,r):e,a=n.length-1,c;a>=0;a--)(c=n[a])&&(o=(t?c(e,r,o):c(o))||o);return t&&o&&I(e,r,o),o};class D{applyTheme(e){const r=window.document.querySelector("html"),t=`theme-${e}`;if(r)r.className=t;else throw new Error("Element HTML not found")}}_([p.CatchError("ClassThemeStrategy","applyTheme")],D.prototype,"applyTheme",1);class B{constructor(){g(this,"themeStrategy");this.themeStrategy=new u}updateTheme(e){this.themeStrategy.applyTheme(e)}}s.MSAppConfig=i,s.MSAppConfigBuilder=h,s.MSAppController=E,s.MSBrowserEnv=N,s.MSErrorHandler=p,s.MSStorage=R,s.MSTheme=B,Object.defineProperty(s,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=index.umd.cjs.map
