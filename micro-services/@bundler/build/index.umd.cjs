(function(n,o){typeof exports=="object"&&typeof module<"u"?o(exports):typeof define=="function"&&define.amd?define(["exports"],o):(n=typeof globalThis<"u"?globalThis:n||self,o(n["micro-services"]={}))})(this,function(n){"use strict";var C=Object.defineProperty;var b=(n,o,c)=>o in n?C(n,o,{enumerable:!0,configurable:!0,writable:!0,value:c}):n[o]=c;var a=(n,o,c)=>(b(n,typeof o!="symbol"?o+"":o,c),c);const s=class s{constructor(e){a(this,"config");this.config=e}static getInstance(e){for(;s.lock;);return s.lock=!0,s.instance||(s.instance=new s(e)),s.lock=!1,s.instance}setLanguage(e){this.config.language!==e&&(this.config.language=e)}setTheme(e){this.config.theme!==e&&(this.config.theme=e)}};a(s,"instance"),a(s,"lock",!1);let o=s;class c{constructor(){a(this,"config");this.config={theme:void 0,language:void 0}}addTheme(e){return this.config.theme=e,this}addLanguage(e){return this.config.language=e,this}build(){return this.validateConfig(),this.config}validateConfig(){for(const[e,t]of Object.entries(this.config))if(t===void 0)throw new Error(`[MSAppConfig]: Missing ${e}`)}}class f{restartApplication(){window.location.reload()}shutdownApplication(){window.location.href="https://google.com"}}class S{constructor(){a(this,"appControllerRepository");this.appControllerRepository=new f}restartApplication(){this.appControllerRepository.restartApplication()}shutdownApplication(){this.appControllerRepository.shutdownApplication()}}class E{constructor(e=[{name:"Chrome",regex:/chrome|chromium|crios/i},{name:"Firefox",regex:/firefox|fxios/i},{name:"Safari",regex:/safari/i},{name:"Opera",regex:/opr\//i},{name:"Edge",regex:/edg/i}]){this.browserNames=e}get(){const e=window.navigator.userAgent;if(!e)return null;for(const t in this.browserNames){const i=this.browserNames[t];if(i.regex.test(e))return i.name}return null}}class y{constructor(e=[{name:"mobile",regex:/iphone|ipad|ipod|android|blackberry|opera mini|iemobile/i},{name:"desktop",regex:/Win|Windows|OpenBSD|SunOS|Linux|X11|Mac|Mac OS X/i}]){this.devicesNames=e}get(){const e=window.navigator.userAgent;if(!e)return null;for(const t in this.devicesNames){const i=this.devicesNames[t];if(i.regex.test(e))return i.name}return null}}class T{constructor(e=[{name:"Windows 3.11",regex:/Win16/},{name:"Windows 95",regex:/(Windows 95|Win95|Windows_95)/},{name:"Windows ME",regex:/(Win 9x 4.90|Windows ME)/},{name:"Windows 98",regex:/(Windows 98|Win98)/},{name:"Windows CE",regex:/Windows CE/},{name:"Windows 2000",regex:/(Windows NT 5.0|Windows 2000)/},{name:"Windows XP",regex:/(Windows NT 5.1|Windows XP)/},{name:"Windows Server 2003",regex:/Windows NT 5.2/},{name:"Windows Vista",regex:/Windows NT 6.0/},{name:"Windows 7",regex:/(Windows 7|Windows NT 6.1)/},{name:"Windows 8.1",regex:/(Windows 8.1|Windows NT 6.3)/},{name:"Windows 8",regex:/(Windows 8|Windows NT 6.2)/},{name:"Windows NT 4.0",regex:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{name:"Windows ME",regex:/Windows ME/},{name:"Android",regex:/Android/},{name:"Open BSD",regex:/OpenBSD/},{name:"Sun OS",regex:/SunOS/},{name:"Linux",regex:/(Linux|X11)/},{name:"iOS",regex:/(iPhone|iPad|iPod)/},{name:"Mac OS X",regex:/Mac OS X/},{name:"Mac OS",regex:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{name:"QNX",regex:/QNX/},{name:"UNIX",regex:/UNIX/},{name:"BeOS",regex:/BeOS/},{name:"OS/2",regex:/OS\/2/}]){this.operatingSystems=e}get(){const e=window.navigator.userAgent;if(!e)return null;for(const t in this.operatingSystems){const i=this.operatingSystems[t];if(i.regex.test(e))return i.name}return null}}class x{get(){const e=window.screen;return e?{colorDepth:e.colorDepth,height:e.height,width:e.width}:null}}class W{constructor(e=new E,t=new y,i=new T,m=new x){this.browserNameRepository=e,this.deviceTypeRepository=t,this.operatingSystemRepository=i,this.screenRepository=m}getBrowserName(){return this.browserNameRepository.get()}getDeviceType(){return this.deviceTypeRepository.get()}getOperatingSystem(){return this.operatingSystemRepository.get()}getScreenInformation(){return this.screenRepository.get()}}class M{constructor(){a(this,"UNKNOWN_ERROR_MESSAGE","Unknown error message")}CatchError(e,t){const i=this;return(m,l,p)=>{const I=p.value;p.value=function(...A){try{return I.apply(this,A)}catch(O){throw i.createError(e,t,O)}}}}createError(e,t,i){const m=this.generateErrorMessage(i),l=new Error(m);return l.name=`[MSErrorHandler:${e}] ${t}`,l}generateErrorMessage(e){return e instanceof Error&&e.message.length?e.message:this.UNKNOWN_ERROR_MESSAGE}}const h=new M,v={CatchError:h.CatchError.bind(h)};class N{addItem(e,t){window.localStorage.setItem(e,t)}getItem(e){return window.localStorage.getItem(e)}isItemExist(e){const t=this.getItem(e);return!!(t!=null&&t.length)}removeItem(e){window.localStorage.removeItem(e)}clearAll(){window.localStorage.clear()}}class u{constructor(){a(this,"storageRepository");this.storageRepository=new N}addItem(e,t){this.storageRepository.addItem(e,t)}getItem(e){return this.storageRepository.getItem(e)}isItemExist(e){return this.storageRepository.isItemExist(e)}updateItem(e,t){this.storageRepository.addItem(e,t)}removeItem(e){this.storageRepository.removeItem(e)}}var d=(r=>(r.THEME="theme",r))(d||{}),g=(r=>(r.THEME="theme",r))(g||{}),w=(r=>(r.DARK="dark",r.LIGHT="light",r))(w||{});class R{constructor(){a(this,"storage",new u);a(this,"defaultTheme",w.LIGHT)}getThemeColor(){return this.storage.getItem(g.THEME)??this.defaultTheme}setThemeColor(e){this.storage.updateItem(g.THEME,e)}updateTheme(e){const t=window.document.querySelector("html");!t||t.getAttribute(d.THEME)===e||t.setAttribute(d.THEME,e)}mountThemeColor(){if(!this.storage.isItemExist(g.THEME)){this.initDefaultTheme();return}const t=this.storage.getItem(g.THEME);t&&this.updateTheme(t)}initDefaultTheme(){this.updateTheme(this.defaultTheme),this.setThemeColor(this.defaultTheme)}}n.MSAppConfig=o,n.MSAppConfigBuilder=c,n.MSAppController=S,n.MSBrowserEnv=W,n.MSErrorHandler=v,n.MSStorage=u,n.MSTheme=R,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=index.umd.cjs.map
